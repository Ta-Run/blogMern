(this["webpackJsonpfinal-front"]=this["webpackJsonpfinal-front"]||[]).push([[0],{95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),s=a(33),l=a.n(s),i=(a(70),a(8)),o=a.n(i),j=a(13),u=a(9),b=a(22),d=a(25),m=a(10),h=a(38),p=a.n(h),O=a(11),x=a.n(O);function f(){return!!p.a.get("blog")}function g(){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/Isadmin");case 2:if(1!==e.sent.data){e.next=7;break}return e.abrupt("return",1);case 7:return e.abrupt("return",2);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){return Object(n.jsxs)(b.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",sticky:"top",children:[Object(n.jsx)(b.a.Brand,{children:Object(n.jsx)("img",{alt:"",src:"/logo.png",width:"60",height:"60",className:"d-inline-block align-top"})}),Object(n.jsx)(b.a.Brand,{children:"The Travel Stop"}),Object(n.jsx)(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(b.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsx)(d.a,{className:"mr-auto ml-3",variant:"pills",defaultActiveKey:"CreatePost",children:Object(n.jsx)(d.a.Link,{as:m.b,to:"/Createpost",eventKey:"CreatePost",children:"Create - Post"})}),f()?Object(n.jsxs)(d.a,{variant:"pills",defaultActiveKey:"account",children:[Object(n.jsx)(d.a.Link,{as:m.b,to:"/Myaccount",eventKey:"account",className:"mr-3",children:"My account"}),Object(n.jsx)(d.a.Link,{onSelect:function(){p.a.remove("blog"),window.location.reload()},eventKey:"logout",className:"mr-3",children:"Log - Out"})]}):null,f()?null:Object(n.jsxs)(d.a,{variant:"pills",defaultActiveKey:"Signin",children:[Object(n.jsx)(d.a.Link,{as:m.b,to:"/Signup",eventKey:"Signup",className:"mr-3",children:"Sign-Up"}),Object(n.jsx)(d.a.Link,{as:m.b,to:"/Signin",eventKey:"Signin",className:"mr-3",children:"Sign-In"})]})]})]})},w=a(99),N=a(31),S=a(100),k=a(98),C=a(63),T=a(101),A=a(21),E=a(12);var L=function(e){var t=Object(E.g)(),a=e.description;return a=a.substring(0,70)+" . . . . .",Object(n.jsx)(C.a,{lg:3,md:4,sm:12,className:"mb-3",children:Object(n.jsxs)(T.a,{style:{width:"100%"},className:"h-100",children:[Object(n.jsx)(T.a.Img,{variant:"top",src:"http://localhost:8000/uploads/".concat(e.image)}),Object(n.jsxs)(T.a.Body,{className:"d-flex flex-column",bg:"light",children:[Object(n.jsxs)(T.a.Title,{className:"mt-auto",children:["Title : ",e.title]}),Object(n.jsxs)(T.a.Subtitle,{className:"mb-2 text-muted mt-auto",children:["Author : ",e.author]}),Object(n.jsx)(T.a.Text,{className:"mt-auto",children:a}),Object(n.jsx)(A.a,{variant:"primary",className:"mt-auto",onClick:function(a){a.preventDefault(),t.push({pathname:"/Showpost",state:{title:e.title,author:e.author,description:e.description,image:e.image}})},children:"Read..."}),e.del?Object(n.jsx)(A.a,{variant:"danger",className:"mt-2",onClick:function(){x.a.delete("api/postdel/".concat(e.id)).then((function(e){k.a,window.location.reload()})).catch((function(e){return Object(n.jsx)(k.a,{variant:"danger",children:"Problem"})}))},children:"Delete"}):null]})]})})};var I=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/api/posts");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(y,{}),Object(n.jsx)("h1",{style:{textAlign:"center"},children:Object(n.jsx)(w.a,{className:"mt-4",pill:!0,variant:"danger",children:"POSTS"})}),Object(n.jsx)(N.a,{fluid:!0,className:"mt-5",children:Object(n.jsx)(S.a,{children:a.map((function(e){return Object(n.jsx)(L,{title:e.title,author:e.author,image:e.image,description:e.description},e._id)}))})})]})},P=a(16),F=a(7),D=a(6);var G=function(){return Object(n.jsxs)(b.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(n.jsx)(b.a.Brand,{as:m.b,to:"/",children:Object(n.jsx)("img",{alt:"",src:"/logo.png",width:"60",height:"60",className:"d-inline-block align-top"})}),Object(n.jsx)(b.a.Brand,{as:m.b,to:"/",children:"The Travel Stop"})]})},B=a(44);var U,K=function(e){var t=e.data.stat;return Object(n.jsxs)(B.a,{show:t,onClose:e.toggleShow,className:"toast",children:[Object(n.jsx)(B.a.Header,{className:e.data.class,children:Object(n.jsx)("strong",{className:"mr-auto",bg:"danger",children:e.data.head})}),Object(n.jsx)(B.a.Body,{children:e.data.text})]})};function M(e){e.match(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/)||(U=Object(F.a)(Object(F.a)({},U),{},{email:"Email is Invalid"}))}function _(e,t){if(!(e.replace(/\s+/g,"").length>2))return U=Object(F.a)(Object(F.a)({},U),{},Object(P.a)({},t,"Minimum length must Be 3"));e.match(/^[a-zA-Z]+$/)||(U=Object(F.a)(Object(F.a)({},U),{},Object(P.a)({},t,"Please enter letters Only")))}function R(e){e.replace(/\s+/g,"").length>7||(U=Object(F.a)(Object(F.a)({},U),{},{password:"Minimum length must Be 8"}))}function z(e){return U=null,_(e.title,"title"),_(e.author,"author"),function(e){e.replace(/\s+/g,"").length>199||(U=Object(F.a)(Object(F.a)({},U),{},{description:"Minimum length 200 chars"}))}(e.description),e.image||(U=Object(F.a)(Object(F.a)({},U),{},{image:"Please Select a image"})),U}function W(e){return U=null,M(e.email),U}var Y=function(){var e=Object(c.useState)({name:"",lastname:"",email:"",password:""}),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)({stat:!1}),i=Object(u.a)(l,2),b=i[0],d=i[1],h=Object(c.useState)({name:"",email:"",password:""}),p=Object(u.a)(h,2),O=p[0],f=p[1];function g(){d({stat:!1})}var v=Object(E.g)();function y(){return(y=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/signup",a);case 2:if(!(t=e.sent).data.err&&t){e.next=5;break}return e.abrupt("return",d({stat:!0,head:"Error !!",text:t.data.err||"Try Again after some Time",class:"toast-fail"}));case 5:return d({stat:!0,head:"Success !!",text:t.data,class:"toast-success"}),n=setTimeout((function(){g(),v.push("/")}),1500),e.abrupt("return",(function(){return clearTimeout(n)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.target,a=t.id,n=t.value;s((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(P.a)({},a,n))}))}return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsx)(N.a,{className:"mt-4 ml-2",children:Object(n.jsxs)(D.a,{className:"col-lg-6 offset-lg-3",children:[Object(n.jsxs)(D.a.Group,{controlId:"name",children:[Object(n.jsx)(D.a.Label,{children:"Firstname"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"FirstName",onChange:w}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.name})]}),Object(n.jsxs)(D.a.Group,{controlId:"lastname",children:[Object(n.jsx)(D.a.Label,{children:"Lastname"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"LastName",onChange:w})]}),Object(n.jsxs)(D.a.Group,{controlId:"email",children:[Object(n.jsx)(D.a.Label,{children:"Email address"}),Object(n.jsx)(D.a.Control,{type:"email",placeholder:"Enter Email",onChange:w}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.email})]}),Object(n.jsxs)(D.a.Group,{controlId:"password",children:[Object(n.jsx)(D.a.Label,{children:"Password"}),Object(n.jsx)(D.a.Control,{type:"password",placeholder:"Password",onChange:w}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.password})]}),Object(n.jsx)(D.a.Text,{as:m.b,to:"/Signin",children:" Already User ? Let's Go"}),Object(n.jsx)(A.a,{variant:"primary",type:"submit",className:"mt-4 mb-3 font-weight-bold",onClick:function(e){e.preventDefault(),f("");var t=function(e){return U=null,_(e.name,"name"),M(e.email),R(e.password),U}(a);t?f(t):function(){y.apply(this,arguments)}()},children:"Sign-Up"}),Object(n.jsx)(D.a.Text,{className:"text-muted",children:"We'll never share your details with anyone else."})]})}),Object(n.jsx)(K,{className:"mt-4",data:b,toggleShow:g})]})};var J=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)({stat:!1}),i=Object(u.a)(l,2),b=i[0],d=i[1],h=Object(c.useState)({email:"",password:""}),p=Object(u.a)(h,2),O=p[0],f=p[1],g=Object(E.g)();function v(){d({stat:!1})}function y(){return(y=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("/api/signin",a);case 2:if(!(t=e.sent).data.err&&t){e.next=5;break}return e.abrupt("return",d({stat:!0,head:"Error !!",text:t.data.err||"Try Again after some Time",class:"toast-fail"}));case 5:return d({stat:!0,head:"Success !!",text:t.data,class:"toast-success"}),n=setTimeout((function(){v(),g.push("/")}),1500),e.abrupt("return",(function(){return clearTimeout(n)}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.target,a=t.id,n=t.value;s((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(P.a)({},a,n))}))}return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsx)(N.a,{className:"mt-5 ml-2 ",children:Object(n.jsxs)(D.a,{className:"col-lg-6 offset-lg-3",children:[Object(n.jsxs)(D.a.Group,{controlId:"email",children:[Object(n.jsx)(D.a.Label,{children:"Email address"}),Object(n.jsx)(D.a.Control,{type:"email",placeholder:"Enter Email",onChange:w}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.email})]}),Object(n.jsxs)(D.a.Group,{controlId:"password",children:[Object(n.jsx)(D.a.Label,{children:"Password"}),Object(n.jsx)(D.a.Control,{type:"password",placeholder:"Password",onChange:w}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.password})]}),Object(n.jsx)(D.a.Text,{as:m.b,to:"/Signup",children:" New User ? Get Started"}),Object(n.jsx)(D.a.Text,{as:m.b,to:"/Forget",className:"mt-2 text-muted",children:"Forget password ?"}),Object(n.jsx)(A.a,{variant:"primary",type:"submit",className:"mt-4 mb-3 font-weight-bold",onClick:function(e){e.preventDefault(),f("");var t=function(e){return U=null,M(e.email),R(e.password),U}(a);t?f(t):function(){y.apply(this,arguments)}()},children:"Sign-In"}),Object(n.jsx)(D.a.Text,{className:"text-muted",children:"We'll never share your details with anyone else."})]})}),Object(n.jsx)(K,{data:b,toggleShow:v})]})};var $=function(){var e=Object(c.useState)({title:"",author:"",description:"",image:null}),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)({stat:!1}),i=Object(u.a)(l,2),b=i[0],d=i[1],m=Object(c.useState)({title:"",author:"",deacription:"",image:""}),h=Object(u.a)(m,2),p=h[0],O=h[1],f=Object(E.g)();function g(){d({stat:!1})}function v(){return(v=Object(j.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",a.title),t.append("author",a.author),t.append("description",a.description),t.append("image",a.image),e.next=7,x.a.post("/api/post",t);case 7:if(!(n=e.sent).data.err&&n){e.next=10;break}return e.abrupt("return",d({stat:!0,head:"Error !!",text:n.data.err||"Try Again after some Time",class:"toast-fail"}));case 10:return d({stat:!0,head:"Success !!",text:n.data,class:"toast-success"}),c=setTimeout((function(){g(),f.push("/")}),1500),e.abrupt("return",(function(){return clearTimeout(c)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.target,a=t.id,n=t.value;s("image"===a?function(t){return Object(F.a)(Object(F.a)({},t),{},Object(P.a)({},a,e.target.files[0]))}:function(e){return Object(F.a)(Object(F.a)({},e),{},Object(P.a)({},a,n))})}return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsxs)(N.a,{className:"mt-4 ml-2",children:[Object(n.jsx)(K,{data:b,toggleShow:g}),Object(n.jsxs)(D.a,{className:"col-lg-6 offset-lg-3",children:[Object(n.jsxs)(D.a.Group,{controlId:"title",children:[Object(n.jsx)(D.a.Label,{children:"Title"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"Title",onChange:y}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:p.title})]}),Object(n.jsxs)(D.a.Group,{controlId:"author",children:[Object(n.jsx)(D.a.Label,{children:"Author"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"Author",onChange:y}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:p.author})]}),Object(n.jsxs)(D.a.Group,{controlId:"description",children:[Object(n.jsx)(D.a.Label,{children:"Description"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"Description",as:"textarea",rows:10,onChange:y}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:p.description})]}),Object(n.jsxs)(D.a.Group,{children:[Object(n.jsx)(D.a.File,{id:"image",label:"Image",onChange:y}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:p.image})]}),Object(n.jsx)(A.a,{variant:"primary",type:"submit",className:"mt-4 mb-3",onClick:function(e){e.preventDefault();var t=z(a);t?O(t):function(){v.apply(this,arguments)}()},children:"Create"})]})]})]})},H=a(43);var Z=function(e){var t=e.component,a=Object(H.a)(e,["component"]);return Object(n.jsx)(E.b,Object(F.a)(Object(F.a)({},a),{},{render:function(e){return f()?Object(n.jsx)(E.a,{to:{pathname:"/",state:{from:e.location}}}):Object(n.jsx)(t,Object(F.a)({},e))}}))};var q=function(e){var t=e.component,a=Object(H.a)(e,["component"]);return Object(n.jsx)(E.b,Object(F.a)(Object(F.a)({},a),{},{render:function(e){return f()?Object(n.jsx)(t,Object(F.a)({},e)):Object(n.jsx)(E.a,{to:{pathname:"/Signin",state:{from:e.location}}})}}))};var Q=function(){var e=Object(E.g)();return Object(c.useEffect)((function(){var t=setTimeout((function(){e.push("/")}),3500);return function(){return clearTimeout(t)}}),[]),Object(n.jsxs)("div",{className:"notfound",children:[Object(n.jsx)("h1",{children:"404 NOT FOUND"}),Object(n.jsx)("h3",{className:"mt-2 mb-4",children:"Can't find What You Looking For"}),Object(n.jsx)("h4",{children:"You will be Redirected"})]})};var V=function(){var e=Object(E.h)();return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsxs)(N.a,{fluid:!0,className:"mb-5",children:[Object(n.jsx)("img",{className:"image",src:"http://localhost:8000/uploads/".concat(e.state.image)}),Object(n.jsx)("h1",{className:"mt-4 mb-4",style:{textAlign:"center"},children:Object(n.jsx)(w.a,{style:{padding:"12px 35%"},className:"mt-4",pill:!0,variant:"primary",children:e.state.title})}),Object(n.jsxs)("h5",{className:"",style:{textAlign:"center"},children:["By : ",e.state.author]}),Object(n.jsx)("h5",{className:"mt-5 mr-3 ml-3",children:e.state.description})]})]})};var X=function(){var e=Object(c.useState)({posts:[]}),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)({stat:!1}),i=Object(u.a)(l,2),b=i[0],d=i[1];Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/account");case 2:if(t=e.sent,console.log(t),!t.data.err&&t&&t.data){e.next=6;break}return e.abrupt("return",d({stat:!0,head:"Error !!",text:t.data.err||"Unable to Access Details",class:"toast-fail"}));case 6:s(t.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=1===a.role?"Admin":"User";return console.log(g()),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsxs)(N.a,{className:"mt-5",children:[Object(n.jsx)(K,{data:b,toggleShow:function(){d({stat:!1})}}),Object(n.jsx)("h1",{style:{textAlign:"center"},children:Object(n.jsx)(w.a,{className:"mt-4",pill:!0,variant:"primary",children:"User Details"})}),Object(n.jsx)(S.a,{className:"mt-5",style:{textAlign:"center"},children:Object(n.jsxs)(C.a,{children:[Object(n.jsxs)("h3",{children:["Name : ",a.name+" "+a.lastname]}),Object(n.jsxs)("h3",{className:"mb-4 mt-4",children:["Email : ",a.email]}),Object(n.jsxs)("h3",{children:["Role : ",m]})]})}),Object(n.jsx)("h1",{style:{textAlign:"center"},children:Object(n.jsx)(w.a,{className:"mt-4",pill:!0,variant:"primary",children:"My Posts"})}),Object(n.jsx)(N.a,{fluid:!0,className:"mt-5",children:Object(n.jsx)(S.a,{children:a.posts.map((function(e){return Object(n.jsx)(L,{title:e.title,author:e.author,image:e.image,description:e.description,del:!0,id:e._id},e._id)}))})})]})]})};var ee=function(e){return Object(n.jsx)(C.a,{lg:3,md:4,sm:12,className:"mb-3",children:Object(n.jsx)(T.a,{style:{width:"100%"},className:"h-100",children:Object(n.jsxs)(T.a.Body,{className:"d-flex flex-column",bg:"light",children:[Object(n.jsxs)(T.a.Title,{className:"mt-auto",children:["Name : ",e.name]}),Object(n.jsxs)(T.a.Subtitle,{className:"mb-2 text-muted  mt-auto",children:["Email : ",e.email]}),Object(n.jsxs)(T.a.Subtitle,{className:"mb-2 text-muted  mt-auto",children:["Role : ",e.role]}),Object(n.jsx)(A.a,{variant:"danger",className:"mt-2",onClick:function(){if(1===e.role)return alert("Not Allowed deleting Admin");x.a.delete("api/userdel/".concat(e.id)).then((function(e){alert("delete"),window.location.reload()})).catch((function(e){return alert("problem")}))},children:"Delete"})]})})})};var te=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)([]),i=Object(u.a)(l,2),b=i[0],d=i[1];return Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/posts");case 2:return t=e.sent,e.next=5,x.a.get("/api/users");case 5:if(a=e.sent,!t.data.err&&!a.data.err&&t&&a){e.next=8;break}return e.abrupt("return",alert(t.data.err||a.data.err||"Try Later"));case 8:s(t.data),d(a.data);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsx)("h1",{style:{textAlign:"center"},children:Object(n.jsx)(w.a,{className:"mt-4 mb-3",pill:!0,variant:"danger",children:"ADMIN PANEL"})}),Object(n.jsxs)(S.a,{children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)("h1",{style:{textAlign:"center"},className:"mb-4 mt-5",children:Object(n.jsx)(w.a,{pill:!0,variant:"primary",children:"POSTS"})}),Object(n.jsx)(S.a,{children:a.map((function(e){return Object(n.jsx)(L,{title:e.title,author:e.author,image:e.image,description:e.description,del:!0,id:e._id},e._id)}))})]}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)("h1",{style:{textAlign:"center"},className:"mb-4 mt-5",children:Object(n.jsx)(w.a,{pill:!0,variant:"primary",children:"USERS"})}),Object(n.jsx)(S.a,{children:b.map((function(e){return Object(n.jsx)(ee,{name:"".concat(e.name," ").concat(e.lastname),email:e.email,role:e.role,id:e._id},e._id)}))})]})]})]})};var ae=function(){var e,t=Object(c.useState)(5),a=Object(u.a)(t,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}),t)})))()}),[]),console.log(r),1===r?Object(n.jsx)(te,{}):Object(n.jsx)(G,{})};var ne=function(){var e=Object(c.useState)({pwd:"",cpwd:""}),t=Object(u.a)(e,2),a=t[0],s=t[1],l=Object(E.g)(),i=Object(E.i)();function b(e){var t=e.target,a=t.id,n=t.value;s((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(P.a)({},a,n))}))}function d(){return(d=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.pwd.replace(/\s+/g,"").length>7&&a.cpwd.replace(/\s+/g,"").length>7){e.next=3;break}return e.abrupt("return",alert("Password length must be 8"));case 3:if(a.pwd!==a.cpwd){e.next=11;break}return e.next=6,x.a.patch("/api/forget/resolve/".concat(i.token),{pwd:a.pwd});case 6:if(!(n=e.sent).data.err&&n){e.next=9;break}return e.abrupt("return",alert(n.data.err||"try later"));case 9:alert("Success"),l.push("/Signin");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsx)(N.a,{className:"mt-5 ml-2 ",children:Object(n.jsxs)(D.a,{className:"col-lg-6 offset-lg-3",children:[Object(n.jsxs)(D.a.Group,{controlId:"pwd",children:[Object(n.jsx)(D.a.Label,{children:"Enter New Password"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"Enter Password",onChange:b})]}),Object(n.jsxs)(D.a.Group,{controlId:"cpwd",children:[Object(n.jsx)(D.a.Label,{children:"Confirm Password"}),Object(n.jsx)(D.a.Control,{type:"text",placeholder:"Enter Again",onChange:b})]}),Object(n.jsx)(A.a,{variant:"primary",type:"submit",className:"mt-4 mb-3 font-weight-bold",onClick:function(e){return d.apply(this,arguments)},children:"Submit"})]})})]})};a(95);var ce=function(){var e=Object(E.g)(),t=Object(c.useState)({email:""}),a=Object(u.a)(t,2),s=a[0],l=a[1],i=Object(c.useState)({stat:!1}),b=Object(u.a)(i,2),d=b[0],m=b[1],h=Object(c.useState)({email:""}),p=Object(u.a)(h,2),O=p[0],f=p[1];function g(){m({stat:!1})}function v(){return(v=Object(j.a)(o.a.mark((function t(a){var n,c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),f(""),!(n=W(s))){t.next=7;break}f(n),t.next=15;break;case 7:return t.next=9,x.a.post("/api/forget",s);case 9:if(!(c=t.sent).data.err&&c){t.next=12;break}return t.abrupt("return",m({stat:!0,head:"Error !!",text:c.data.err||"Try Again after some Time",class:"toast-fail"}));case 12:return m({stat:!0,head:"Success !!",text:c.data,class:"toast-success"}),r=setTimeout((function(){g(),e.push("/")}),1500),t.abrupt("return",(function(){return clearTimeout(r)}));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(G,{}),Object(n.jsx)(N.a,{className:"mt-5 ml-2 ",children:Object(n.jsxs)(D.a,{className:"col-lg-6 offset-lg-3",children:[Object(n.jsxs)(D.a.Group,{controlId:"email",children:[Object(n.jsx)(D.a.Label,{children:"Type Your Email"}),Object(n.jsx)(D.a.Control,{type:"email",placeholder:"Enter Email",onChange:function(e){var t=e.target,a=t.id,n=t.value;l(Object(P.a)({},a,n))}}),Object(n.jsx)("span",{className:"ml-2",style:{color:"red"},children:O.email})]}),Object(n.jsx)(A.a,{variant:"primary",type:"submit",className:"mt-1 mb-3 font-weight-bold",onClick:function(e){return v.apply(this,arguments)},children:"Submit"}),Object(n.jsx)(D.a.Text,{className:"text-muted",children:"Wait few seconds before re-submitting"})]})}),Object(n.jsx)(K,{data:d,toggleShow:g})]})};var re=function(){return Object(n.jsx)(m.a,{children:Object(n.jsxs)(E.d,{children:[Object(n.jsx)(E.b,{path:"/",exact:!0,component:I}),Object(n.jsx)(Z,{path:"/Signup",component:Y}),Object(n.jsx)(Z,{path:"/Signin",component:J}),Object(n.jsx)(Z,{path:"/Forget",component:ce,exact:!0}),Object(n.jsx)(Z,{path:"/forget/resolve/:token",component:ne}),Object(n.jsx)(q,{path:"/CreatePost",component:$}),Object(n.jsx)(q,{path:"/Myaccount",component:X}),Object(n.jsx)(E.b,{path:"/Showpost",children:Object(n.jsx)(V,{})}),Object(n.jsx)(E.b,{path:"/admin",component:ae}),Object(n.jsx)(E.b,{component:Q})]})})};l.a.render(Object(n.jsx)(re,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.19a1e345.chunk.js.map